// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var addTranslator, fromL, toL;
    toL = "eng";
    fromL = "eng";
    $('.lang-from').on('change', function() {
      fromL = this.value;
    });
    $('.lang-to').on('change', function() {
      toL = this.value;
    });
    addTranslator = function() {
      $('#translation-form').on('click', '.submit-btn', function(e) {
        var extractedText, info;
        e.preventDefault();
        extractedText = $('#translation-form').serializeArray();
        if (extractedText[0].value === "") {
          $('#translation-repo').text("Cannot translate when you are so withholding...");
          return;
        } else {
          console.log(extractedText);
          info = {
            text: extractedText[0].value,
            from: fromL,
            to: toL
          };
          $('#translation-form').each(function() {
            this.reset();
          });
          console.log(info);
          $.post('/translate', info, function(data) {
            data.serverData.message = "Please Enter a real word";
            if (data.serverData.translation != null) {
              return $('#translation-repo').text(data.serverData.translation);
            } else {
              console.log(data.serverData);
              return $('#translation-repo').text(data.serverData.message);
            }
          });
          return;
        }
      });
    };
    addTranslator();
    $('.question-drop').on('change', function() {
      fromL = this.value;
      console.log(fromL);
    });
    $('.start-quiz').on('click', function(e) {
      var addQuestion;
      $('.question-lang').empty();
      addQuestion = '<form id="translation-form">' + '<input id="translation-text type="text" name="translate-text" placeholder="hello">' + '<br><button class="btn btn-primary.submit-btn" type="submit">Button</button>' + '</input></form>';
      $('.question-lang').append(addQuestion);
      addTranslator();
    });
  });

}).call(this);
